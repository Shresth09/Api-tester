else if ("getSelectedProjectsJson".equals(action)) {
    PluginSettings pluginSettings = pluginSettingsFactory.createGlobalSettings();
    String selectedProjects = (String) pluginSettings.get(PLUGIN_STORAGE_KEY + ".selectedProjects");

    if (selectedProjects == null) {
        selectedProjects = "";
    }

    resp.setContentType("application/json");
    String jsonResponse = new Gson().toJson(selectedProjects.split(","));
    resp.getWriter().write(jsonResponse);
}



#set($allowedProjectKeys = [])
## Fetch the allowed project keys from the servlet
#set($apiUrl = $request.getContextPath() + "/plugins/servlet/issuecrud?action=getSelectedProjectsJson")
#set($jsonResponse = $action.remote($apiUrl))
#set($allowedProjectKeys = $jsonResponse.split(","))

## Debugging logs
#set($dummy = $log.debug("API URL: $apiUrl"))
#set($dummy = $log.debug("JSON Response: $jsonResponse"))
#set($dummy = $log.debug("Allowed Project Keys: $allowedProjectKeys"))




#set($apiUrl = "$request.getScheme()://$request.getServerName():$request.getServerPort()" + $request.getContextPath() + '/plugins/servlet/issuecrud?action=getSelectedProjects')

#set($jsonResponse = $http.get($apiUrl)) 

#if ($jsonResponse && $jsonResponse.statusCode == 200)
    #set($allowedProjectKeys = $jsonResponse.body.trim().split(",")) 
#else
    #log.error("Failed to fetch allowed project keys from API: " + $apiUrl + ". Status Code: " + $jsonResponse.statusCode) 
    #set($allowedProjectKeys = []) 
#end

