<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:atlassian-scanner="http://www.atlassian.com/schema/atlassian-scanner"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
           http://www.atlassian.com/schema/atlassian-scanner
           http://www.atlassian.com/schema/atlassian-scanner/atlassian-scanner.xsd">

    <!-- Scan indexes for Spring Components -->
    <atlassian-scanner:scan-indexes/>

    <!-- Define TemplateRenderer Bean -->
    <bean id="templateRenderer" class="com.atlassian.jira.web.util.TemplateRendererImpl">
        <property name="velocityManager" ref="velocityManager"/>
    </bean>

    <!-- Define Velocity Manager Bean (Required for rendering templates) -->
    <bean id="velocityManager" class="com.atlassian.jira.web.util.VelocityManager">
        <property name="velocityEngine" ref="velocityEngine"/>
    </bean>

    <!-- Define Velocity Engine Bean -->
    <bean id="velocityEngine" class="org.apache.velocity.app.VelocityEngine"/>
</beans>










package com.example.plugins.context;

import com.atlassian.templaterenderer.TemplateRenderer;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class TemplateRendererContext {

    private final TemplateRenderer templateRenderer;

    @Autowired
    public TemplateRendererContext(TemplateRenderer templateRenderer) {
        this.templateRenderer = templateRenderer;
    }

    public TemplateRenderer getTemplateRenderer() {
        return templateRenderer;
    }
}